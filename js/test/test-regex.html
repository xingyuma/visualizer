<?xml version = "1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"DTD/xhtml1-strict.dtd">
<!-- 
	See COPYING for copyright and distribution information.
-->
<html xmlns = "http://www.w3.org/1999/xhtml">

<head>
	<title>NDN Signature - String</title>

    <script type="text/javascript" src="../build/ndn.js"></script>
    <script type="text/javascript" src="../regex.js"></script>
	<script type="text/javascript">
		function add(){
            str = "ndn-key33";
            re = "ndn-key";
            _name = new Name("/ndn/tt.ucla/tt.ucla/");
            var backRefManager= new BackRefManager();
            console.log(str.match(re));
            console.log(str.search(re));
            
/*            com = new Component("b+cc",null,true);
            console.log(com.match(_name,1,2));
  */
//            comSet = new ComponentSetMatcher("[<ndn><ucla>]",null,true);
//            console.log(comSet.compile());
//            console.log(comSet.match(_name,1,1));
//            repeat = new RepeatMatcher("<ndn-3>",backRefManager,9);
//            repeat.compile();
//            console.log(repeat);
//            console.log(_name);
 //           console.log(repeat.match(_name,0,1));
/*            patternList = new PatternListMatcher("((((<ndn>))([<tt><ID-CERT><kk>]){1,2})+<app>)<dd><pp>?<ok>", backRefManager);
            patternList.compile();
            console.log(patternList);
//            console.log(patternList);
            console.log(patternList.match(_name,0,7));
*/
            
            topMatcher = new TopMatcher("^(((<ndn>)(<>){1,2}))", backRefManager);
            topMatcher.compile();
            console.log(topMatcher);
            //            console.log(patternList);
            console.log(topMatcher.match(_name,0,3));

		}
		function show(){
    //        for (var i = 0; i < policy.PolicyStore.length; i++) {
      //         document.getElementById('result').innerHTML = policy.PolicyStore[i].prefix;
        //    }
		}

	</script>
	

</head>
<body >
	<form>
		
		<input id="privateKey" type="hidden" value="-----BEGIN RSA PRIVATE KEY-----
			MIICWwIBAAKBgQDRhGF7X4A0ZVlEg594WmODVVUIiiPQs04aLmvfg8SborHss5gQ
			Xu0aIdUT6nb5rTh5hD2yfpF2WIW6M8z0WxRhwicgXwi80H1aLPf6lEPPLvN29EhQ
			NjBpkFkAJUbS8uuhJEeKw0cE49g80eBBF4BCqSL6PFQbP9/rByxdxEoAIQIDAQAB
			AoGAA9/q3Zk6ib2GFRpKDLO/O2KMnAfR+b4XJ6zMGeoZ7Lbpi3MW0Nawk9ckVaX0
			ZVGqxbSIX5Cvp/yjHHpww+QbUFrw/gCjLiiYjM9E8C3uAF5AKJ0r4GBPl4u8K4bp
			bXeSxSB60/wPQFiQAJVcA5xhZVzqNuF3EjuKdHsw+dk+dPECQQDubX/lVGFgD/xY
			uchz56Yc7VHX+58BUkNSewSzwJRbcueqknXRWwj97SXqpnYfKqZq78dnEF10SWsr
			/NMKi+7XAkEA4PVqDv/OZAbWr4syXZNv/Mpl4r5suzYMMUD9U8B2JIRnrhmGZPzL
			x23N9J4hEJ+Xh8tSKVc80jOkrvGlSv+BxwJAaTOtjA3YTV+gU7Hdza53sCnSw/8F
			YLrgc6NOJtYhX9xqdevbyn1lkU0zPr8mPYg/F84m6MXixm2iuSz8HZoyzwJARi2p
			aYZ5/5B2lwroqnKdZBJMGKFpUDn7Mb5hiSgocxnvMkv6NjT66Xsi3iYakJII9q8C
			Ma1qZvT/cigmdbAh7wJAQNXyoizuGEltiSaBXx4H29EdXNYWDJ9SS5f070BRbAIl
			dqRh3rcNvpY6BKJqFapda1DjdcncZECMizT/GMrc1w==
			-----END RSA PRIVATE KEY-----"></input>
		
		
		<input id="certificate" type="hidden" value="-----BEGIN CERTIFICATE-----
			MIIBvTCCASYCCQD55fNzc0WF7TANBgkqhkiG9w0BAQUFADAjMQswCQYDVQQGEwJK
			UDEUMBIGA1UEChMLMDAtVEVTVC1SU0EwHhcNMTAwNTI4MDIwODUxWhcNMjAwNTI1
			MDIwODUxWjAjMQswCQYDVQQGEwJKUDEUMBIGA1UEChMLMDAtVEVTVC1SU0EwgZ8w
			DQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBANGEYXtfgDRlWUSDn3haY4NVVQiKI9Cz
			Thoua9+DxJuiseyzmBBe7Roh1RPqdvmtOHmEPbJ+kXZYhbozzPRbFGHCJyBfCLzQ
			fVos9/qUQ88u83b0SFA2MGmQWQAlRtLy66EkR4rDRwTj2DzR4EEXgEKpIvo8VBs/
			3+sHLF3ESgAhAgMBAAEwDQYJKoZIhvcNAQEFBQADgYEAEZ6mXFFq3AzfaqWHmCy1
			ARjlauYAa8ZmUFnLm0emg9dkVBJ63aEqARhtok6bDQDzSJxiLpCEF6G4b/Nv/M/M
			LyhP+OoOTmETMegAVQMq71choVJyOFE5BtQa6M/lCHEOya5QUfoRF2HF9EjRF44K
			3OK+u3ivTSj3zwjtpudY5Xo=
			-----END CERTIFICATE-----"></input>

		Please Enter a Text to sign:<br /><input id="contentName" type="text" name="CONTENTNAME" value="/ndn/ucla/BoelterHall/utility/log/" /> <br />
	
	</form>
	<button onclick="add()">Add Policy</button>
	<button onclick="show()">Show policies</button>
	
	

		<p id="result"></p>

		
	
</body>

</html>
